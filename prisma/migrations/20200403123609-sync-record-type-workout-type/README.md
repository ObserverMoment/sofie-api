# Migration `20200403123609-sync-record-type-workout-type`

This migration has been generated by ObserverMoment at 4/3/2020, 12:36:09 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "RecordType_new" AS ENUM ('AMRAP', 'FORTIME', 'FORLOAD');
ALTER TABLE "public"."WorldRecord" ALTER COLUMN "recordType" DROP DEFAULT,
                        ALTER COLUMN "recordType" TYPE "RecordType_new" USING ("recordType"::text::"RecordType_new"),
                        ALTER COLUMN "recordType" SET DEFAULT 'AMRAP';
ALTER TYPE "RecordType" RENAME TO "RecordType_old";
ALTER TYPE "RecordType_new" RENAME TO "RecordType";
DROP TYPE "RecordType_old"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200402213414-workout-move-prescribed-scaling-optional..20200403123609-sync-record-type-workout-type
--- datamodel.dml
+++ datamodel.dml
@@ -4,12 +4,12 @@
 generator client {
   provider = "prisma-client-js"
 }
-// url = "***"
+// url      = env("DATABASE_URL")
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = "postgres://vksegplfohzkfb:4006286c49b2ccada42a32cc56f0405ae370152bd9e594d3f38b5d1f34cebadb@ec2-79-125-26-232.eu-west-1.compute.amazonaws.com:5432/dfj0e91erhbqs1"
 }
 model Benchmark {
   id           String        @default(uuid()) @id
@@ -120,10 +120,10 @@
 // TIME in seconds
 // LOAD in lbs
 enum RecordType {
   AMRAP
-  TIME
-  LOAD
+  FORTIME
+  FORLOAD
 }
 enum WorkoutType {
   AMRAP
```


