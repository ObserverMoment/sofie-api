# Migration `20200417123550-reset-schema-2`

This migration has been generated by ObserverMoment at 4/17/2020, 12:35:50 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."User" DROP COLUMN "email",
ALTER COLUMN "birthdate" DROP NOT NULL,
ALTER COLUMN "displayName" DROP NOT NULL,
ALTER COLUMN "firstname" DROP NOT NULL,
ALTER COLUMN "gender" DROP NOT NULL,
ALTER COLUMN "height" DROP NOT NULL,
ALTER COLUMN "lastname" DROP NOT NULL,
ALTER COLUMN "weight" DROP NOT NULL;

CREATE UNIQUE INDEX "User.firebaseUid" ON "public"."User"("firebaseUid")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200417123327-reset-schema..20200417123550-reset-schema-2
--- datamodel.dml
+++ datamodel.dml
@@ -4,12 +4,12 @@
 generator client {
   provider = "prisma-client-js"
 }
-// url = "***"
+// url      = env("DATABASE_URL")
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = "postgres://vksegplfohzkfb:4006286c49b2ccada42a32cc56f0405ae370152bd9e594d3f38b5d1f34cebadb@ec2-79-125-26-232.eu-west-1.compute.amazonaws.com:5432/dfj0e91erhbqs1"
 }
 model Benchmark {
   id           String        @default(uuid()) @id
@@ -44,17 +44,16 @@
   id           String        @default(uuid()) @id
   firebaseUid  String        @unique
   createdAt    DateTime      @default(now())
   avatarUrl    String?
-  displayName  String        @unique
-  firstname    String
-  lastname     String
-  email        String
+  displayName  String?       @unique
+  firstname    String?
+  lastname     String?
   bio          String?
-  birthdate    DateTime
-  gender       Gender
-  height       Int
-  weight       Int
+  birthdate    DateTime?
+  gender       Gender?
+  height       Int?
+  weight       Int?
   gymBox       String?
   townCity     String?
   country      String?
   benchmarks   Benchmark[]
```


