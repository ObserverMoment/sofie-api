# Migration `20200722173959-workout-is-copy`

This migration has been generated by ObserverMoment at 7/22/2020, 5:39:59 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."User" ALTER COLUMN "hasOnboarded" DROP NOT NULL;

ALTER TABLE "public"."Workout" ADD COLUMN "isCopy" boolean  NOT NULL DEFAULT false;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200720143707-workout-video-thumb..20200722173959-workout-is-copy
--- datamodel.dml
+++ datamodel.dml
@@ -6,9 +6,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Benchmark {
   id               String          @default(uuid()) @id
@@ -169,8 +169,10 @@
   createdById       String?
   name              String
   summary           String?
   description       String?
+  // Avoid deleting media from some other workout which was the original, and also mean you don't have to literally make duplicates of media when making a copy.
+  isCopy            Boolean            @default(false)
   demoVideoUrl      String?
   demoVideoThumbUrl String?
   youtubeVideoUrl   String?
   spotifyAudio      String?
@@ -216,9 +218,9 @@
 model User {
   id                           String                         @default(uuid()) @id
   firebaseUid                  String                         @unique
   createdAt                    DateTime                       @default(now())
-  hasOnboarded                 Boolean                        @default(false)
+  hasOnboarded                 Boolean?                       @default(false)
   avatarUrl                    String?
   displayName                  String?                        @unique
   firstname                    String?
   lastname                     String?
```


