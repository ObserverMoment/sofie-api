# Migration `20200923142045-liked-workout-composite-id`

This migration has been generated by ObserverMoment at 9/23/2020, 3:20:45 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."LikedWorkout" DROP CONSTRAINT "LikedWorkout_pkey",
DROP COLUMN "id",
ADD PRIMARY KEY ("userId", "workoutId")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200916134623-gym-profile-to-log-and-scheduled..20200923142045-liked-workout-composite-id
--- datamodel.dml
+++ datamodel.dml
@@ -6,9 +6,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 // model ScoreSubmission {
 //   id                     String                @default(uuid()) @id
@@ -213,15 +213,15 @@
 //   likedWorkouts LikedWorkout[]
 // }
 model LikedWorkout {
-  id        String   @default(uuid()) @id
   createdAt DateTime @default(now())
   user      User     @relation(fields: [userId], references: [id])
   userId    String
   notes     String?
   workout   Workout  @relation(fields: [workoutId], references: [id])
   workoutId String
+  @@id([userId, workoutId])
   // likedworkoutTags LikedWorkoutTag[]
 }
 // Need to implement some more solid polymorphism here if we want to allow a workoutSection
```


