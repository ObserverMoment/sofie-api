# Migration `20201110131654-ready-to-deploy-init-sandbox`

This migration has been generated by ObserverMoment at 11/10/2020, 1:16:54 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Move" ADD COLUMN "searchTerms" text   
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201110105310-reset..20201110131654-ready-to-deploy-init-sandbox
--- datamodel.dml
+++ datamodel.dml
@@ -6,9 +6,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Equipment {
   id                 String        @id @default(uuid())
@@ -77,22 +77,26 @@
   workoutProgramEnrolmentId String?
 }
 model Move {
-  id                   String               @id @default(uuid())
-  createdAt            DateTime             @default(now())
-  createdBy            User?                @relation(fields: [createdById], references: [id])
-  createdById          String?
-  type                 MoveType             @default(STANDARD)
-  name                 String               @unique
-  description          String?
-  demoVideoUrl         String?
-  validRepTypes        WorkoutMoveRepType[]
-  requiredEquipments   Equipment[]          @relation("moveToRequiredEquipments", references: [id])
-  selectableEquipments Equipment[]          @relation("moveToSelectableEquipments", references: [id])
-  moveProfileRequired  MoveProfile[]        @relation("requiredMoves", references: [id])
-  moveProfileExcluded  MoveProfile[]        @relation("excludedMoves", references: [id])
-  workoutMoves         WorkoutMove[]
+  id                      String               @id @default(uuid())
+  createdAt               DateTime             @default(now())
+  createdBy               User?                @relation(fields: [createdById], references: [id])
+  createdById             String?
+  type                    MoveType             @default(STANDARD)
+  // Should be very short!
+  name                    String               @unique
+  // Text search will search this field - include the main name + any common variations
+  // E.g. Air Bike, Assault Bike, specific brands, common misspellings etc.
+  searchTerms             String?
+  description             String?
+  demoVideoUrl            String?
+  validRepTypes           WorkoutMoveRepType[]
+  requiredEquipments      Equipment[]          @relation("moveToRequiredEquipments", references: [id])
+  selectableEquipments    Equipment[]          @relation("moveToSelectableEquipments", references: [id])
+  requiredForMoveProfiles MoveProfile[]        @relation("requiredMoves", references: [id])
+  excludedForMoveProfiles MoveProfile[]        @relation("excludedMoves", references: [id])
+  workoutMoves            WorkoutMove[]
 }
 model MoveProfile {
   id            String  @id @default(uuid())
```


