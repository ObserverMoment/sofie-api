# Migration `20200911163746-liked-workout-2`

This migration has been generated by ObserverMoment at 9/11/2020, 5:37:46 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."LikedWorkout" (
"id" text   NOT NULL ,
"createdAt" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
"userId" text   NOT NULL ,
"notes" text   ,
"workoutId" text   ,
PRIMARY KEY ("id")
)

ALTER TABLE "public"."LikedWorkout" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE "public"."LikedWorkout" ADD FOREIGN KEY ("workoutId")REFERENCES "public"."Workout"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200911163624-liked-workout..20200911163746-liked-workout-2
--- datamodel.dml
+++ datamodel.dml
@@ -6,9 +6,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 // model ScoreSubmission {
 //   id                     String                @default(uuid()) @id
@@ -170,10 +170,9 @@
   workoutSections   WorkoutSection[]
   scheduledWorkouts ScheduledWorkout[]
   workoutLogs       LoggedWorkout[]
   // tags              WorkoutTag[]
-  // likes             LikedWorkout[]
-  LikedWorkout      LikedWorkout[]
+  likes             LikedWorkout[]
 }
 model ScheduledWorkout {
   id              String         @default(uuid()) @id
@@ -337,11 +336,10 @@
   workouts          Workout[]
   scheduledWorkouts ScheduledWorkout[]
   loggedWorkouts    LoggedWorkout[]
   // workoutTags                        WorkoutTag[]
-  // likedWorkouts                      LikedWorkout[]
+  likedWorkouts     LikedWorkout[]
   // LikedWorkoutTag                    LikedWorkoutTag[]
-  LikedWorkout      LikedWorkout[]
 }
 // Enums
 enum AccessScopeType {
```


