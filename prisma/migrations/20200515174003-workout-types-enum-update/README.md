# Migration `20200515174003-workout-types-enum-update`

This migration has been generated by ObserverMoment at 5/15/2020, 5:40:03 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Challenge" ALTER COLUMN "scope" SET DEFAULT 'PRIVATE';

ALTER TABLE "public"."Group" ALTER COLUMN "scope" SET DEFAULT 'PRIVATE';

ALTER TABLE "public"."Move" ALTER COLUMN "scope" SET DEFAULT 'PRIVATE';

ALTER TABLE "public"."User" ALTER COLUMN "unitSystem" SET DEFAULT 'METRIC';

ALTER TABLE "public"."Workout" ALTER COLUMN "scope" SET DEFAULT 'PRIVATE';

ALTER TABLE "public"."WorldRecord" DROP COLUMN "recordType",
ADD COLUMN "recordType" "WorkoutType" NOT NULL DEFAULT 'AMRAP';

DROP TYPE "RecordType"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200515111104-create-scheduled-model-notes..20200515174003-workout-types-enum-update
--- datamodel.dml
+++ datamodel.dml
@@ -4,12 +4,12 @@
 generator client {
   provider = "prisma-client-js"
 }
-// url = "***"
+// url      = env("DATABASE_URL")
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = "postgres://vksegplfohzkfb:4006286c49b2ccada42a32cc56f0405ae370152bd9e594d3f38b5d1f34cebadb@ec2-79-125-26-232.eu-west-1.compute.amazonaws.com:5432/dfj0e91erhbqs1"
 }
 model Benchmark {
   id               String          @default(uuid()) @id
@@ -131,12 +131,12 @@
   createdAt         DateTime           @default(now())
   createdBy         User?              @relation(fields: [createdById], references: [id])
   createdById       String?
   name              String             @unique
-  category          WodCategory
-  scope             AccessScopeType    @default(PRIVATE)
   summary           String?
   description       String?
+  scope             AccessScopeType    @default(PRIVATE)
+  category          WodCategory
   workoutType       WorkoutType
   workoutMoves      WorkoutMove[]
   worldRecords      WorldRecord[]
   challenges        Challenge[]        @relation(references: [id])
@@ -147,26 +147,26 @@
   id          String   @default(uuid()) @id
   createdAt   DateTime @default(now())
   createdBy   User     @relation(fields: [createdById], references: [id])
   createdById String
-  notes       String
+  notes       String?
   scheduledAt DateTime @default(now())
   completed   Boolean  @default(false)
   workout     Workout  @relation(fields: [workoutId], references: [id])
   workoutId   String
 }
 model WorldRecord {
-  id          String     @default(uuid()) @id
-  createdAt   DateTime   @default(now())
-  updatedAt   DateTime   @updatedAt
+  id          String      @default(uuid()) @id
+  createdAt   DateTime    @default(now())
+  updatedAt   DateTime    @updatedAt
   notes       String?
   recordValue Int
-  recordType  RecordType
+  recordType  WorkoutType @default(AMRAP)
   gender      Gender
-  workout     Workout    @relation(fields: [workoutId], references: [id])
+  workout     Workout     @relation(fields: [workoutId], references: [id])
   workoutId   String
-  user        User?      @relation(fields: [userId], references: [id])
+  user        User?       @relation(fields: [userId], references: [id])
   userId      String?
 }
 // Height in cms / weight in kgs
@@ -243,11 +243,13 @@
 }
 // AMRAP in reps
 // TIME in seconds
-// LOAD in lbs
-enum RecordType {
+// LOAD in kgs
+enum WorkoutType {
   AMRAP
+  AMROUNDS
+  FORDISTANCE
   FORTIME
   FORLOAD
 }
@@ -257,14 +259,8 @@
   HEROES
   NOTABLES
 }
-enum WorkoutType {
-  AMRAP
-  FORTIME
-  FORLOAD
-}
-
 enum UnitSystem {
   IMPERIAL
   METRIC
 }
```


