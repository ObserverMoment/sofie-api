# Migration `20201109161705-remove-logged-workout-difficulty`

This migration has been generated by ObserverMoment at 11/9/2020, 4:17:05 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."LoggedWorkout" DROP COLUMN "difficultyLevel"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201106081838-camel-case-relations..20201109161705-remove-logged-workout-difficulty
--- datamodel.dml
+++ datamodel.dml
@@ -6,9 +6,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Equipment {
   id                 String        @id @default(uuid())
@@ -60,11 +60,11 @@
   videoUrl                  String?
   videoThumbUrl             String?
   imageUrl                  String?
   duration                  Int?
-  difficultyLevel           Int                      @default(50)
   workoutType               WorkoutType              @relation(fields: [workoutTypeId], references: [id])
   workoutTypeId             String
+  /// @onDelete(CASCADE)
   workoutSections           WorkoutSection[]
   originalWorkout           Workout?                 @relation(fields: [originalWorkoutId], references: [id])
   originalWorkoutId         String?
   originalWorkoutScope      AccessScopeType
@@ -142,14 +142,20 @@
   followedBy               User[]                    @relation("UserFollows", references: [id])
   following                User[]                    @relation("UserFollows", references: [id])
   moves                    Move[]
   workouts                 Workout[]
+  /// @onDelete(CASCADE)
   scheduledWorkouts        ScheduledWorkout[]
+  /// @onDelete(CASCADE)
   loggedWorkouts           LoggedWorkout[]
+  /// @onDelete(CASCADE)
   likedWorkouts            LikedWorkout[]
+  /// @onDelete(CASCADE)
   gymProfiles              GymProfile[]
+  /// @onDelete(CASCADE)
   moveProfiles             MoveProfile[]
   workoutProgramsCreated   WorkoutProgram[]
+  /// @onDelete(CASCADE)
   workoutProgramEnrolments WorkoutProgramEnrolment[]
   workoutProgramReviews    WorkoutProgramReview[]
 }
@@ -172,11 +178,13 @@
   difficultyLevel   Int                     @default(50)
   scope             AccessScopeType         @default(PRIVATE)
   workoutType       WorkoutType             @relation(fields: [workoutTypeId], references: [id])
   workoutTypeId     String
+  /// @onDelete(CASCADE)
   workoutSections   WorkoutSection[]
   scheduledWorkouts ScheduledWorkout[]
   workoutLogs       LoggedWorkout[]
+  /// @onDelete(CASCADE)
   likes             LikedWorkout[]
   workoutPrograms   WorkoutProgramWorkout[]
 }
@@ -218,11 +226,14 @@
   videoThumbUrl   String?
   scope           AccessScopeType           @default(PRIVATE)
   createdBy       User                      @relation(fields: [createdById], references: [id])
   createdById     String
+  /// @onDelete(CASCADE)
   enrolments      WorkoutProgramEnrolment[]
   workoutGoals    WorkoutGoal[]
+  /// @onDelete(CASCADE)
   programWorkouts WorkoutProgramWorkout[]
+  /// @onDelete(CASCADE)
   programReviews  WorkoutProgramReview[]
 }
 model WorkoutProgramEnrolment {
@@ -273,9 +284,11 @@
   duration         Int?
   rounds           Int
   workout          Workout?          @relation(fields: [workoutId], references: [id])
   workoutId        String?
+  /// @onDelete(CASCADE)
   workoutMoves     WorkoutMove[]
+  /// @onDelete(CASCADE)
   roundAdjustRules RoundAdjustRule[]
   loggedWorkout    LoggedWorkout?    @relation(fields: [loggedWorkoutId], references: [id])
   loggedWorkoutId  String?
 }
```


