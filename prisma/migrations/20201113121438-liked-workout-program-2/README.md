# Migration `20201113121438-liked-workout-program-2`

This migration has been generated by ObserverMoment at 11/13/2020, 12:14:38 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "LikedWorkoutProgram" (
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "userId" TEXT NOT NULL,
    "notes" TEXT,
    "workoutProgramId" TEXT NOT NULL,

    PRIMARY KEY ("userId","workoutProgramId")
)

ALTER TABLE "LikedWorkoutProgram" ADD FOREIGN KEY("userId")REFERENCES "User"("id") ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE "LikedWorkoutProgram" ADD FOREIGN KEY("workoutProgramId")REFERENCES "WorkoutProgram"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201113121320-liked-workout-program..20201113121438-liked-workout-program-2
--- datamodel.dml
+++ datamodel.dml
@@ -6,9 +6,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Equipment {
   id                 String        @id @default(uuid())
@@ -171,9 +171,9 @@
   workoutProgramsCreated   WorkoutProgram[]
   /// @onDelete(CASCADE)
   workoutProgramEnrolments WorkoutProgramEnrolment[]
   workoutProgramReviews    WorkoutProgramReview[]
-  LikedWorkoutProgram      LikedWorkoutProgram[]
+  likedWorkoutPrograms     LikedWorkoutProgram[]
 }
 model Workout {
   id                String                  @id @default(uuid())
@@ -233,27 +233,27 @@
   workoutSectionId    String
 }
 model WorkoutProgram {
-  id                  String                    @id @default(uuid())
-  createdAt           DateTime                  @default(now())
-  name                String
-  description         String?
-  imageUrl            String?
-  videoUrl            String?
-  videoThumbUrl       String?
-  youtubeVideoUrl     String?
-  scope               AccessScopeType           @default(PRIVATE)
-  createdBy           User                      @relation(fields: [createdById], references: [id])
-  createdById         String
+  id              String                    @id @default(uuid())
+  createdAt       DateTime                  @default(now())
+  name            String
+  description     String?
+  imageUrl        String?
+  videoUrl        String?
+  videoThumbUrl   String?
+  youtubeVideoUrl String?
+  scope           AccessScopeType           @default(PRIVATE)
+  createdBy       User                      @relation(fields: [createdById], references: [id])
+  createdById     String
   /// @onDelete(CASCADE)
-  enrolments          WorkoutProgramEnrolment[]
-  workoutGoals        WorkoutGoal[]
+  enrolments      WorkoutProgramEnrolment[]
+  workoutGoals    WorkoutGoal[]
   /// @onDelete(CASCADE)
-  programWorkouts     WorkoutProgramWorkout[]
+  programWorkouts WorkoutProgramWorkout[]
   /// @onDelete(CASCADE)
-  programReviews      WorkoutProgramReview[]
-  LikedWorkoutProgram LikedWorkoutProgram[]
+  programReviews  WorkoutProgramReview[]
+  likes           LikedWorkoutProgram[]
 }
 model WorkoutProgramEnrolment {
   id               String          @id @default(uuid())
```


