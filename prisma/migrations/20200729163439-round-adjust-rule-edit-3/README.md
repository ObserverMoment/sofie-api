# Migration `20200729163439-round-adjust-rule-edit-3`

This migration has been generated by ObserverMoment at 7/29/2020, 4:34:39 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "RuleAction" AS ENUM ('INCREASE', 'DECREASE', 'MULTIPLY');

CREATE TYPE "RuleTarget" AS ENUM ('REP', 'LOAD');

ALTER TABLE "public"."RoundAdjustRule" DROP COLUMN "subject",
DROP COLUMN "operator",
ADD COLUMN "action" "RuleAction" NOT NULL ,
ADD COLUMN "target" "RuleTarget" NOT NULL ;

DROP TYPE "RuleOperator"

DROP TYPE "RuleSubject"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200729152953-round-adjust-rule-edit-2..20200729163439-round-adjust-rule-edit-3
--- datamodel.dml
+++ datamodel.dml
@@ -6,9 +6,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model ScoreSubmission {
   id                     String                @default(uuid()) @id
@@ -171,22 +171,23 @@
 // Every {roundFrequency} rounds {operator} reps by {amount}
 // Eg. Every 3 rounds INCREASE reps by 10 (for all workout moves within the section)
 model RoundAdjustRule {
   id               String         @default(uuid()) @id
-  subject          RuleOperator
-  operator         RuleSubject
+  action           RuleAction
+  target           RuleTarget
   amount           Int
   roundFrequency   Int            @default(1) // Every round
   WorkoutSection   WorkoutSection @relation(fields: [workoutSectionId], references: [id])
   workoutSectionId String
 }
-enum RuleOperator {
+enum RuleAction {
   INCREASE
   DECREASE
+  MULTIPLY
 }
-enum RuleSubject {
+enum RuleTarget {
   REP
   LOAD
 }
```


